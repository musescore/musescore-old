<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>MuseScore: element.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>element.h</h1><a href="element_8h.html">Go to the documentation of this file.</a><pre class="fragment"><div>00001 <span class="comment">//=========================================================</span>
00002 <span class="comment">//  MusE Score</span>
00003 <span class="comment">//  Linux Music Score Editor</span>
00004 <span class="comment">//  $Id: element.h,v 1.31 2005/06/22 07:57:07 wschweer Exp $</span>
00005 <span class="comment">//</span>
00006 <span class="comment">//  (C) Copyright 2002-2004 Werner Schweer (ws@seh.de)</span>
00007 <span class="comment">//=========================================================</span>
00008 
00009 <span class="preprocessor">#ifndef __ELEMENT_H__</span>
00010 <span class="preprocessor"></span><span class="preprocessor">#define __ELEMENT_H__</span>
00011 <span class="preprocessor"></span>
00012 <span class="preprocessor">#include "<a class="code" href="plist_8h.html">plist.h</a>"</span>
00013 <span class="preprocessor">#include "<a class="code" href="symbols_8h.html">symbols.h</a>"</span>
00014 <span class="preprocessor">#include "<a class="code" href="spatium_8h.html">spatium.h</a>"</span>
00015 <span class="preprocessor">#include "<a class="code" href="mtime_8h.html">mtime.h</a>"</span>
00016 
00017 <span class="keyword">class </span>QKeyEvent;
00018 <span class="keyword">class </span><a class="code" href="classXml.html">Xml</a>;
00019 <span class="keyword">class </span><a class="code" href="classMeasure.html">Measure</a>;
00020 <span class="keyword">class </span><a class="code" href="classStaff.html">Staff</a>;
00021 <span class="keyword">class </span><a class="code" href="classScore.html">Score</a>;
00022 <span class="keyword">class </span><a class="code" href="classPainter.html">Painter</a>;
00023 
<a name="l00024"></a><a class="code" href="element_8h.html#a65">00024</a> <span class="keyword">enum</span> <a class="code" href="element_8h.html#a65">ElementType</a> {
00025       <a class="code" href="element_8h.html#a65a7">SYMBOL</a>, <a class="code" href="element_8h.html#a65a8">TEXT</a>, <a class="code" href="element_8h.html#a65a9">STAFF</a>, <a class="code" href="element_8h.html#a65a10">GABEL</a>, <a class="code" href="element_8h.html#a65a11">SLUR_SEGMENT</a>, <a class="code" href="element_8h.html#a65a12">NOTE</a>, <a class="code" href="element_8h.html#a65a13">BAR</a>,
00026       <a class="code" href="element_8h.html#a65a14">STEM</a>, <a class="code" href="element_8h.html#a65a15">COMPOUND</a>, <a class="code" href="element_8h.html#a65a16">LINE</a>, <a class="code" href="element_8h.html#a65a17">AKKOLADE</a>,
00027 <span class="comment">/*11*/</span>      <a class="code" href="element_8h.html#a65a18">ACCIDENTAL</a>,
00028       <a class="code" href="element_8h.html#a65a19">CURSOR</a>, <a class="code" href="element_8h.html#a65a20">SELECTION</a>, <a class="code" href="element_8h.html#a65a21">LASSO</a>,
00029       <a class="code" href="element_8h.html#a65a22">CLEF</a>, <a class="code" href="element_8h.html#a65a23">KEYSIG</a>, <a class="code" href="element_8h.html#a65a24">TIMESIG</a>, <a class="code" href="element_8h.html#a65a25">CHORD</a>, <a class="code" href="element_8h.html#a65a26">REST</a>,
00030       <a class="code" href="element_8h.html#a65a27">TIE</a>, <a class="code" href="element_8h.html#a65a28">SLUR</a>, <a class="code" href="element_8h.html#a65a29">MEASURE</a>,
00031       <a class="code" href="element_8h.html#a65a30">ATTRIBUTE</a>, <a class="code" href="element_8h.html#a65a31">DYNAMIC</a>, <a class="code" href="element_8h.html#a65a32">PAGE</a>, <a class="code" href="element_8h.html#a65a33">BEAM</a>, <a class="code" href="element_8h.html#a65a34">FLAG</a>, <a class="code" href="element_8h.html#a65a35">LYRICS</a>,
00032       <a class="code" href="element_8h.html#a65a36">INSTRUMENT_NAME1</a>, <a class="code" href="element_8h.html#a65a37">INSTRUMENT_NAME2</a>, <a class="code" href="element_8h.html#a65a38">FINGERING</a>,
00033       <a class="code" href="element_8h.html#a65a39">SYSTEM</a>, <a class="code" href="element_8h.html#a65a40">HAIRPIN</a>, <a class="code" href="element_8h.html#a65a41">TUPLET</a>, <a class="code" href="element_8h.html#a65a42">RUBBERBAND</a>, <a class="code" href="element_8h.html#a65a43">VSPACER</a>,
00034       <a class="code" href="element_8h.html#a65a44">SEGMENT</a>, <a class="code" href="element_8h.html#a65a45">TEMPO_TEXT</a>,
00035       <a class="code" href="element_8h.html#a65a46">SHADOW_NOTE</a>
00036       };
00037 
00038 <span class="comment">// Accidentals</span>
00039 <span class="keyword">enum</span> { <a class="code" href="element_8h.html#a66a47">ACC_NONE</a>, <a class="code" href="element_8h.html#a66a48">ACC_SHARP</a>, <a class="code" href="element_8h.html#a66a49">ACC_FLAT</a>, <a class="code" href="element_8h.html#a66a50">ACC_SHARP2</a>, <a class="code" href="element_8h.html#a66a51">ACC_FLAT2</a>, <a class="code" href="element_8h.html#a66a52">ACC_NATURAL</a> };
00040 
<a name="l00041"></a><a class="code" href="element_8h.html#a0">00041</a> <span class="keyword">extern</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="element_8cpp.html#a2">elementNames</a>[];  <span class="comment">// for debugging</span>
00042 
00043 <span class="comment">//---------------------------------------------------------</span>
00044 <span class="comment">//   Element</span>
00045 <span class="comment">//    virtual base class of score layout element</span>
00046 <span class="comment">//---------------------------------------------------------</span>
00047 
<a name="l00048"></a><a class="code" href="classElement.html">00048</a> <span class="keyword">class </span><a class="code" href="classElement.html">Element</a> {
<a name="l00049"></a><a class="code" href="classElement.html#r0">00049</a>       <a class="code" href="classElement.html">Element</a>* <a class="code" href="classElement.html#r0">_next</a>;
<a name="l00050"></a><a class="code" href="classElement.html#r1">00050</a>       <a class="code" href="classElement.html">Element</a>* <a class="code" href="classElement.html#r1">_prev</a>;
<a name="l00051"></a><a class="code" href="classElement.html#r2">00051</a>       <a class="code" href="classElement.html">Element</a>* <a class="code" href="classElement.html#r2">_parent</a>;
00052 
<a name="l00053"></a><a class="code" href="classElement.html#r3">00053</a>       <a class="code" href="classMeasure.html">Measure</a>* <a class="code" href="classElement.html#r3">_anchor</a>;
00054 
<a name="l00055"></a><a class="code" href="classElement.html#r4">00055</a>       <span class="keywordtype">bool</span> <a class="code" href="classElement.html#r4">_selected</a>;
<a name="l00056"></a><a class="code" href="classElement.html#r5">00056</a>       <span class="keywordtype">bool</span> <a class="code" href="classElement.html#r5">_generated</a>;  <span class="comment">// automatically generated Element</span>
<a name="l00057"></a><a class="code" href="classElement.html#r6">00057</a>       <span class="keywordtype">bool</span> <a class="code" href="classElement.html#r6">_visible</a>;    <span class="comment">// visibility attribute</span>
00058 
<a name="l00059"></a><a class="code" href="classElement.html#r7">00059</a>       <a class="code" href="element_8h.html#a65">ElementType</a> <a class="code" href="classElement.html#r7">_type</a>;
<a name="l00060"></a><a class="code" href="classElement.html#r8">00060</a>       <span class="keywordtype">int</span> <a class="code" href="classElement.html#r8">_voice</a>;       <span class="comment">// 0 - VOICES</span>
<a name="l00061"></a><a class="code" href="classElement.html#r9">00061</a>       <a class="code" href="classStaff.html">Staff</a>* <a class="code" href="classElement.html#r9">_staff</a>;
<a name="l00062"></a><a class="code" href="classElement.html#r10">00062</a>       <a class="code" href="classMTime.html">MTime</a> <a class="code" href="classElement.html#r10">_time</a>;
<a name="l00063"></a><a class="code" href="classElement.html#r11">00063</a>       QColor <a class="code" href="classElement.html#r11">_color</a>;
00064 
00065       <span class="keywordtype">void</span> <a class="code" href="classElement.html#d0">init</a>();
00066 
00067    <span class="keyword">protected</span>:
<a name="l00068"></a><a class="code" href="classElement.html#p0">00068</a>       <a class="code" href="classScore.html">Score</a>* <a class="code" href="classElement.html#p0">_score</a>;
<a name="l00069"></a><a class="code" href="classElement.html#p1">00069</a>       QPointF <a class="code" href="classElement.html#p1">_pos</a>;     <span class="comment">// point: reference position, relative to _parent</span>
00070                         <span class="comment">// usually set from layout()</span>
<a name="l00071"></a><a class="code" href="classElement.html#p2">00071</a>       QPointF <a class="code" href="classElement.html#p2">_userOff</a>; <span class="comment">// offset from normal layout position</span>
00072                         <span class="comment">// user dragged object this amount</span>
00073                         <span class="comment">// in Spatium ("space") units!</span>
<a name="l00074"></a><a class="code" href="classElement.html#p3">00074</a>       QRectF <a class="code" href="classElement.html#p3">_bbox</a>;     <span class="comment">// bounding box relative to _pos + _userOff</span>
00075 
<a name="l00076"></a><a class="code" href="classElement.html#p4">00076</a>       <span class="keyword">mutable</span> <a class="code" href="classMTime.html">MTime</a> <a class="code" href="classElement.html#p4">_duration</a>;  <span class="comment">// lazy evaluation</span>
00077 
00078    <span class="keyword">public</span>:
00079       <a class="code" href="classElement.html">Element</a>(<a class="code" href="classScore.html">Score</a>*, ElementType t);
<a name="l00080"></a><a class="code" href="classElement.html#a1">00080</a>       <span class="keyword">virtual</span> <a class="code" href="classElement.html#a1">~Element</a>() {}
00081 
00082       <a class="code" href="classElement.html">Element</a>(<span class="keyword">const</span> <a class="code" href="classElement.html">Element</a>&amp;);
00083       <span class="keyword">virtual</span> <a class="code" href="classElement.html">Element</a>* <a class="code" href="classElement.html#a3">clone</a>() const = 0;
00084 
<a name="l00085"></a><a class="code" href="classElement.html#a4">00085</a>       <a class="code" href="classScore.html">Score</a>* score()<span class="keyword"> const                    </span>{ <span class="keywordflow">return</span> <a class="code" href="classElement.html#p0">_score</a>;  }
<a name="l00086"></a><a class="code" href="classElement.html#a5">00086</a>       <span class="keywordtype">void</span> <a class="code" href="classElement.html#a5">setScore</a>(<a class="code" href="classScore.html">Score</a>* s)                 { <a class="code" href="classElement.html#p0">_score</a> = s;     }
<a name="l00087"></a><a class="code" href="classElement.html#a6">00087</a>       <a class="code" href="classElement.html">Element</a>* <a class="code" href="classElement.html#a6">next</a>()<span class="keyword"> const                   </span>{ <span class="keywordflow">return</span> <a class="code" href="classElement.html#r0">_next</a>;   }
<a name="l00088"></a><a class="code" href="classElement.html#a7">00088</a>       <span class="keywordtype">void</span> <a class="code" href="classElement.html#a7">setNext</a>(<a class="code" href="classElement.html">Element</a>* e)                { <a class="code" href="classElement.html#r0">_next</a> = e;      }
<a name="l00089"></a><a class="code" href="classElement.html#a8">00089</a>       <a class="code" href="classElement.html">Element</a>* <a class="code" href="classElement.html#a8">prev</a>()<span class="keyword"> const                   </span>{ <span class="keywordflow">return</span> <a class="code" href="classElement.html#r1">_prev</a>;   }
<a name="l00090"></a><a class="code" href="classElement.html#a9">00090</a>       <span class="keywordtype">void</span> <a class="code" href="classElement.html#a9">setPrev</a>(<a class="code" href="classElement.html">Element</a>* e)                { <a class="code" href="classElement.html#r1">_prev</a> = e;      }
<a name="l00091"></a><a class="code" href="classElement.html#a10">00091</a>       <a class="code" href="classElement.html">Element</a>* <a class="code" href="classElement.html#a10">parent</a>()<span class="keyword"> const                 </span>{ <span class="keywordflow">return</span> <a class="code" href="classElement.html#r2">_parent</a>; }
<a name="l00092"></a><a class="code" href="classElement.html#a11">00092</a>       <span class="keywordtype">void</span> <a class="code" href="classElement.html#a11">setParent</a>(<a class="code" href="classElement.html">Element</a>* e)              { <a class="code" href="classElement.html#r2">_parent</a> = e;    }
00093 
<a name="l00094"></a><a class="code" href="classElement.html#a12">00094</a>       <a class="code" href="classMeasure.html">Measure</a>* <a class="code" href="classElement.html#a12">anchor</a>()<span class="keyword"> const                 </span>{ <span class="keywordflow">return</span> <a class="code" href="classElement.html#r3">_anchor</a>; }
<a name="l00095"></a><a class="code" href="classElement.html#a13">00095</a>       <span class="keywordtype">void</span> <a class="code" href="classElement.html#a13">setAnchor</a>(<a class="code" href="classMeasure.html">Measure</a>* m)              { <a class="code" href="classElement.html#r3">_anchor</a> = m;    }
00096 
<a name="l00097"></a><a class="code" href="classElement.html#a14">00097</a>       <span class="keywordtype">bool</span> <a class="code" href="classElement.html#a14">isSelected</a>()<span class="keyword"> const                 </span>{ <span class="keywordflow">return</span> <a class="code" href="classElement.html#r4">_selected</a>;  }
<a name="l00098"></a><a class="code" href="classElement.html#a15">00098</a>       <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classElement.html#a15">setSelected</a>(<span class="keywordtype">bool</span> f)        { <a class="code" href="classElement.html#r4">_selected</a> = f;     }
<a name="l00099"></a><a class="code" href="classElement.html#a16">00099</a>       <span class="keywordtype">bool</span> <a class="code" href="classElement.html#a16">visible</a>()<span class="keyword"> const                    </span>{ <span class="keywordflow">return</span> <a class="code" href="classElement.html#r6">_visible</a>;   }
<a name="l00100"></a><a class="code" href="classElement.html#a17">00100</a>       <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classElement.html#a17">setVisible</a>(<span class="keywordtype">bool</span> f)         { <a class="code" href="classElement.html#r6">_visible</a> = f;      }
<a name="l00101"></a><a class="code" href="classElement.html#a18">00101</a>       <span class="keywordtype">bool</span> <a class="code" href="classElement.html#a18">generated</a>()<span class="keyword"> const                  </span>{ <span class="keywordflow">return</span> <a class="code" href="classElement.html#r5">_generated</a>; }
<a name="l00102"></a><a class="code" href="classElement.html#a19">00102</a>       <span class="keywordtype">void</span> <a class="code" href="classElement.html#a19">setGenerated</a>(<span class="keywordtype">bool</span> val)             { <a class="code" href="classElement.html#r5">_generated</a> = val;  }
00103 
<a name="l00104"></a><a class="code" href="classElement.html#a20">00104</a>       <span class="keyword">virtual</span> QPointF <a class="code" href="classElement.html#a20">pos</a>()<span class="keyword"> const             </span>{ <span class="keywordflow">return</span> <a class="code" href="classElement.html#p1">_pos</a> + <a class="code" href="classElement.html#p2">_userOff</a> * <a class="code" href="spatium_8h.html#a0">_spatium</a>;         }
<a name="l00105"></a><a class="code" href="classElement.html#a21">00105</a>       <span class="keyword">virtual</span> <span class="keywordtype">double</span> <a class="code" href="classElement.html#a21">x</a>()<span class="keyword"> const                </span>{ <span class="keywordflow">return</span> <a class="code" href="classElement.html#p1">_pos</a>.x() + <a class="code" href="classElement.html#p2">_userOff</a>.x() * <a class="code" href="spatium_8h.html#a0">_spatium</a>; }
<a name="l00106"></a><a class="code" href="classElement.html#a22">00106</a>       <span class="keyword">virtual</span> <span class="keywordtype">double</span> <a class="code" href="classElement.html#a22">y</a>()<span class="keyword"> const                </span>{ <span class="keywordflow">return</span> <a class="code" href="classElement.html#p1">_pos</a>.y() + <a class="code" href="classElement.html#p2">_userOff</a>.y() * <a class="code" href="spatium_8h.html#a0">_spatium</a>; }
<a name="l00107"></a><a class="code" href="classElement.html#a23">00107</a>       <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classElement.html#a23">setpos</a>(<span class="keyword">const</span> QPointF&amp; p)   { <a class="code" href="classElement.html#p1">_pos</a> = p;                }
<a name="l00108"></a><a class="code" href="classElement.html#a24">00108</a>       <span class="keyword">virtual</span> <span class="keywordtype">void</span> setpos(<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y) { <a class="code" href="classElement.html#p1">_pos</a> = QPointF(x, y);    }
<a name="l00109"></a><a class="code" href="classElement.html#a25">00109</a>       <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classElement.html#a25">move</a>(<span class="keywordtype">double</span> xd, <span class="keywordtype">double</span> yd) { <a class="code" href="classElement.html#p1">_pos</a> += QPointF(xd, yd); }
<a name="l00110"></a><a class="code" href="classElement.html#a26">00110</a>       <span class="keyword">virtual</span> <span class="keywordtype">void</span> move(<span class="keyword">const</span> QPointF&amp; s)     { <a class="code" href="classElement.html#p1">_pos</a> += s;               }
00111 
00112       QPointF <a class="code" href="classElement.html#a27">aref</a>() const;     <span class="comment">// canvas reference pos</span>
<a name="l00113"></a><a class="code" href="classElement.html#a28">00113</a>       const QPointF&amp; userOff()<span class="keyword"> const              </span>{ <span class="keywordflow">return</span> <a class="code" href="classElement.html#p2">_userOff</a>; }
<a name="l00114"></a><a class="code" href="classElement.html#a29">00114</a>       <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classElement.html#a29">setUserOff</a>(<span class="keyword">const</span> QPointF&amp; o)   { <a class="code" href="classElement.html#p2">_userOff</a> = o;    }
00115 
00116       <span class="keyword">virtual</span> <span class="keywordtype">bool</span> contains(<span class="keyword">const</span> QPointF&amp; p) <span class="keyword">const</span>;  <span class="comment">// p relative to parent()</span>
00117       <span class="keywordtype">bool</span> intersects(<span class="keyword">const</span> QRectF&amp; r) <span class="keyword">const</span>;       <span class="comment">// r relative to parent()</span>
00118 
<a name="l00119"></a><a class="code" href="classElement.html#a32">00119</a>       <span class="keywordtype">void</span> <a class="code" href="classElement.html#a32">setbbox</a>(<span class="keyword">const</span> QRectF&amp; r)           { <a class="code" href="classElement.html#p3">_bbox</a> = r;             }
<a name="l00120"></a><a class="code" href="classElement.html#a33">00120</a>       <span class="keyword">const</span> QRectF&amp; <a class="code" href="classElement.html#a33">bbox</a>()<span class="keyword"> const              </span>{ <span class="keywordflow">return</span> <a class="code" href="classElement.html#p3">_bbox</a>;          }
<a name="l00121"></a><a class="code" href="classElement.html#a34">00121</a>       QRectF <a class="code" href="classElement.html#a34">abbox</a>()<span class="keyword"> const                    </span>{ <span class="keywordflow">return</span> <a class="code" href="classElement.html#p3">_bbox</a>.translated(<a class="code" href="classElement.html#a27">aref</a>()); }
<a name="l00122"></a><a class="code" href="classElement.html#a35">00122</a>       QPointF <a class="code" href="classElement.html#a35">apos</a>()<span class="keyword"> const                    </span>{ <span class="keywordflow">return</span> <a class="code" href="classElement.html#a27">aref</a>();         }
<a name="l00123"></a><a class="code" href="classElement.html#a36">00123</a>       <span class="keyword">virtual</span> <span class="keywordtype">double</span> <a class="code" href="classElement.html#a36">height</a>()<span class="keyword"> const           </span>{ <span class="keywordflow">return</span> <a class="code" href="classElement.html#p3">_bbox</a>.height(); }
<a name="l00124"></a><a class="code" href="classElement.html#a37">00124</a>       <span class="keyword">virtual</span> <span class="keywordtype">double</span> <a class="code" href="classElement.html#a37">width</a>()<span class="keyword"> const            </span>{ <span class="keywordflow">return</span> <a class="code" href="classElement.html#p3">_bbox</a>.width();  }
<a name="l00125"></a><a class="code" href="classElement.html#a38">00125</a>       <span class="keywordtype">void</span> <a class="code" href="classElement.html#a38">setWidth</a>(<span class="keywordtype">double</span> v)                 { <a class="code" href="classElement.html#p3">_bbox</a>.setWidth(v);     }
<a name="l00126"></a><a class="code" href="classElement.html#a39">00126</a>       <span class="keywordtype">void</span> <a class="code" href="classElement.html#a39">setHeight</a>(<span class="keywordtype">double</span> v)                { <a class="code" href="classElement.html#p3">_bbox</a>.setHeight(v);    }
00127 
<a name="l00128"></a><a class="code" href="classElement.html#a40">00128</a>       <a class="code" href="element_8h.html#a65">ElementType</a> <a class="code" href="classElement.html#a40">type</a>()<span class="keyword"> const                </span>{ <span class="keywordflow">return</span> <a class="code" href="classElement.html#r7">_type</a>;          }
<a name="l00129"></a><a class="code" href="classElement.html#a41">00129</a>       <span class="keywordtype">void</span> <a class="code" href="classElement.html#a41">setType</a>(ElementType t)             { <a class="code" href="classElement.html#r7">_type</a> = t;             }
<a name="l00130"></a><a class="code" href="classElement.html#a42">00130</a>       <span class="keywordtype">bool</span> <a class="code" href="classElement.html#a42">isChordRest</a>()<span class="keyword"> const </span>{
00131             <span class="keywordflow">return</span> <a class="code" href="classElement.html#r7">_type</a> == <a class="code" href="element_8h.html#a65a26">REST</a> || <a class="code" href="classElement.html#r7">_type</a> == <a class="code" href="element_8h.html#a65a25">CHORD</a>;
00132             }
00133 
00134       <span class="keyword">virtual</span> <span class="keywordtype">void</span> draw(<a class="code" href="classPainter.html">Painter</a>&amp;p) <span class="keyword">const</span>;
<a name="l00135"></a><a class="code" href="classElement.html#a44">00135</a>       <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classElement.html#a44">draw1</a>(<a class="code" href="classPainter.html">Painter</a>&amp;)<span class="keyword"> const </span>{}
00136 
00137       <span class="keywordtype">void</span> writeProperties(<a class="code" href="classXml.html">Xml</a>&amp; xml) <span class="keyword">const</span>;
00138       <span class="keywordtype">bool</span> readProperties(QDomNode);
00139 
<a name="l00140"></a><a class="code" href="classElement.html#a47">00140</a>       <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classElement.html#a47">write</a>(<a class="code" href="classXml.html">Xml</a>&amp;)<span class="keyword"> const  </span>{}
<a name="l00141"></a><a class="code" href="classElement.html#a48">00141</a>       <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classElement.html#a48">read</a>(QDomNode) {}
00142 
<a name="l00143"></a><a class="code" href="classElement.html#a49">00143</a>       <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classElement.html#a49">startDrag</a>(<span class="keyword">const</span> QPointF&amp;)      { <span class="keywordflow">return</span> <span class="keyword">false</span>; }
00144       <span class="keyword">virtual</span> QRectF drag(<span class="keyword">const</span> QPointF&amp; s);
<a name="l00145"></a><a class="code" href="classElement.html#a51">00145</a>       <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classElement.html#a51">endDrag</a>()                  {}
00146 
<a name="l00147"></a><a class="code" href="classElement.html#a52">00147</a>       <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classElement.html#a52">startEdit</a>(QMatrix&amp;)        { <span class="keywordflow">return</span> <span class="keyword">false</span>; }
<a name="l00148"></a><a class="code" href="classElement.html#a53">00148</a>       <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classElement.html#a53">edit</a>(QKeyEvent*)           { <span class="keywordflow">return</span> <span class="keyword">false</span>;}
<a name="l00149"></a><a class="code" href="classElement.html#a54">00149</a>       <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classElement.html#a54">editStartDrag</a>(<span class="keyword">const</span> QPointF&amp;)  { <span class="keywordflow">return</span> <span class="keyword">false</span>; }
<a name="l00150"></a><a class="code" href="classElement.html#a55">00150</a>       <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classElement.html#a55">editDrag</a>(QMatrix&amp;, QPointF*, <span class="keyword">const</span> QPointF&amp;) { <span class="keywordflow">return</span> <span class="keyword">false</span>; }
<a name="l00151"></a><a class="code" href="classElement.html#a56">00151</a>       <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classElement.html#a56">editEndDrag</a>()              { <span class="keywordflow">return</span> <span class="keyword">false</span>;}
<a name="l00152"></a><a class="code" href="classElement.html#a57">00152</a>       <span class="keyword">virtual</span> QPointF <a class="code" href="classElement.html#a57">dragOff</a>()<span class="keyword"> const             </span>{ <span class="keywordflow">return</span> QPointF(0,0); }
<a name="l00153"></a><a class="code" href="classElement.html#a58">00153</a>       <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classElement.html#a58">endEdit</a>()                  {}
00154 
<a name="l00155"></a><a class="code" href="classElement.html#a59">00155</a>       <a class="code" href="classStaff.html">Staff</a>* <a class="code" href="classElement.html#a59">staff</a>()<span class="keyword"> const                    </span>{ <span class="keywordflow">return</span> <a class="code" href="classElement.html#r9">_staff</a>; }
00156       <span class="keywordtype">int</span> <a class="code" href="classElement.html#a60">staffIdx</a>() const;
<a name="l00157"></a><a class="code" href="classElement.html#a61">00157</a>       <span class="keywordtype">void</span> setStaff(<a class="code" href="classStaff.html">Staff</a>* v)                 { <a class="code" href="classElement.html#r9">_staff</a> = v;    }
<a name="l00158"></a><a class="code" href="classElement.html#a62">00158</a>       <span class="keywordtype">int</span> <a class="code" href="classElement.html#a62">voice</a>()<span class="keyword"> const                       </span>{ <span class="keywordflow">return</span> <a class="code" href="classElement.html#r8">_voice</a>; }
<a name="l00159"></a><a class="code" href="classElement.html#a63">00159</a>       <span class="keywordtype">void</span> <a class="code" href="classElement.html#a63">setVoice</a>(<span class="keywordtype">int</span> v)                    { <a class="code" href="classElement.html#r8">_voice</a> = v;    }
00160 
<a name="l00161"></a><a class="code" href="classElement.html#a64">00161</a>       <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classElement.html#a64">add</a>(<a class="code" href="classElement.html">Element</a>*)    {}
<a name="l00162"></a><a class="code" href="classElement.html#a65">00162</a>       <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classElement.html#a65">remove</a>(<a class="code" href="classElement.html">Element</a>*) {}
00163 
<a name="l00164"></a><a class="code" href="classElement.html#a66">00164</a>       <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classElement.html#a66">layout</a>() {}
<a name="l00165"></a><a class="code" href="classElement.html#a67">00165</a>       <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classElement.html#a67">resetMode</a>() {}
00166 
00167       <span class="comment">// debug functions</span>
00168       <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classElement.html#a68">dump</a>() const;
<a name="l00169"></a><a class="code" href="classElement.html#a69">00169</a>       const <span class="keywordtype">char</span>* name()<span class="keyword"> const  </span>{ <span class="keywordflow">return</span> <a class="code" href="element_8cpp.html#a2">elementNames</a>[<a class="code" href="classElement.html#r7">_type</a>]; }
00170       <span class="keywordtype">void</span> dumpQPointF(<span class="keyword">const</span> <span class="keywordtype">char</span>*) const;
00171 
00172       <span class="keywordtype">bool</span> operator&gt;(const <a class="code" href="classElement.html">Element</a>&amp;) const;
00173 
<a name="l00174"></a><a class="code" href="classElement.html#a72">00174</a>       <a class="code" href="classMTime.html">MTime</a> time()<span class="keyword"> const              </span>{ <span class="keywordflow">return</span> <a class="code" href="classElement.html#r10">_time</a>; }
<a name="l00175"></a><a class="code" href="classElement.html#a73">00175</a>       <a class="code" href="classMTime.html">MTime</a> <a class="code" href="classElement.html#a73">duration</a>()<span class="keyword"> const          </span>{ <span class="keywordflow">return</span> <a class="code" href="classElement.html#p4">_duration</a>; }
00176 
<a name="l00177"></a><a class="code" href="classElement.html#a74">00177</a>       <span class="keywordtype">int</span> <a class="code" href="classElement.html#a74">tick</a>()<span class="keyword"> const                </span>{ <span class="keywordflow">return</span> <a class="code" href="classElement.html#r10">_time</a>.<a class="code" href="classMTime.html#a3">tick</a>(); }
<a name="l00178"></a><a class="code" href="classElement.html#a75">00178</a>       <span class="keywordtype">void</span> <a class="code" href="classElement.html#a75">setTick</a>(<span class="keywordtype">int</span> t)             { <a class="code" href="classElement.html#r10">_time</a>.<a class="code" href="classMTime.html#a4">setTick</a>(t); }
<a name="l00179"></a><a class="code" href="classElement.html#a76">00179</a>       <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="classElement.html#a76">tickLen</a>()<span class="keyword"> const     </span>{ <span class="keywordflow">return</span> <a class="code" href="classElement.html#p4">_duration</a>.<a class="code" href="classMTime.html#a3">tick</a>(); }
<a name="l00180"></a><a class="code" href="classElement.html#a77">00180</a>       <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classElement.html#a77">setTickLen</a>(<span class="keywordtype">int</span> t)  { <a class="code" href="classElement.html#p4">_duration</a>.<a class="code" href="classMTime.html#a4">setTick</a>(t); }
00181       <span class="keyword">virtual</span> <span class="keywordtype">void</span> space(<span class="keywordtype">double</span>&amp; min, <span class="keywordtype">double</span>&amp; extra) <span class="keyword">const</span>;
<a name="l00182"></a><a class="code" href="classElement.html#a79">00182</a>       QColor <a class="code" href="classElement.html#a79">color</a>()<span class="keyword"> const            </span>{ <span class="keywordflow">return</span> <a class="code" href="classElement.html#r11">_color</a>; }
<a name="l00183"></a><a class="code" href="classElement.html#a80">00183</a>       <span class="keywordtype">void</span> <a class="code" href="classElement.html#a80">setColor</a>(<span class="keyword">const</span> QColor&amp; c)  { <a class="code" href="classElement.html#r11">_color</a> = c;    }
00184       };
00185 
00186 <span class="comment">//---------------------------------------------------------</span>
00187 <span class="comment">//   IsType</span>
00188 <span class="comment">//---------------------------------------------------------</span>
00189 
00190 <span class="comment">//struct IsType {</span>
00191 <span class="comment">//      ElementType t;</span>
00192 <span class="comment">//      IsType(ElementType et) { t = et; }</span>
00193 <span class="comment">//      bool operator()(void*e) const {</span>
00194 <span class="comment">//            return ((Element*)e)-&gt;type() == t;</span>
00195 <span class="comment">//            }</span>
00196 <span class="comment">//      };</span>
00197 
00198 <span class="comment">//---------------------------------------------------------</span>
00199 <span class="comment">//   ElementList</span>
00200 <span class="comment">//---------------------------------------------------------</span>
00201 
<a name="l00202"></a><a class="code" href="classElementList.html">00202</a> <span class="keyword">class </span><a class="code" href="classElementList.html">ElementList</a> : <span class="keyword">public</span> pstl::plist&lt;Element*&gt; {
00203    <span class="keyword">public</span>:
<a name="l00204"></a><a class="code" href="classElementList.html#a0">00204</a>       <a class="code" href="classElementList.html#a0">ElementList</a>() {}
00205       <span class="keywordtype">bool</span> remove(<a class="code" href="classElement.html">Element</a>*);
00206       <span class="keywordtype">void</span> replace(<a class="code" href="classElement.html">Element</a>* old, <a class="code" href="classElement.html">Element</a>* n);
00207       <span class="keywordtype">void</span> write(<a class="code" href="classXml.html">Xml</a>&amp;) const;
00208       <span class="keywordtype">void</span> draw(<a class="code" href="classPainter.html">Painter</a>&amp; p) const;
00209 
00210       <span class="keywordtype">void</span> add(<a class="code" href="classElement.html">Element</a>*);
00211       <span class="keywordtype">void</span> move(Element* el, <span class="keywordtype">int</span> tick);
00212       <span class="keywordtype">void</span> write(<a class="code" href="classXml.html">Xml</a>&amp;, const <span class="keywordtype">char</span>* name) const;
00213       <span class="keywordtype">void</span> read(QDomNode);
00214       };
00215 
<a name="l00216"></a><a class="code" href="element_8h.html#a1">00216</a> typedef <a class="code" href="classElementList.html">ElementList</a>::iterator <a class="code" href="element_8h.html#a1">iElement</a>;
<a name="l00217"></a><a class="code" href="element_8h.html#a2">00217</a> typedef <a class="code" href="classElementList.html">ElementList</a>::const_iterator <a class="code" href="element_8h.html#a2">ciElement</a>;
<a name="l00218"></a><a class="code" href="element_8h.html#a3">00218</a> typedef <a class="code" href="classElementList.html">ElementList</a>::reverse_iterator <a class="code" href="element_8h.html#a3">riElement</a>;
00219 
00220 <span class="comment">//---------------------------------------------------------</span>
00221 <span class="comment">//   Symbol</span>
00222 <span class="comment">//    score symbol</span>
00223 <span class="comment">//---------------------------------------------------------</span>
00224 
<a name="l00225"></a><a class="code" href="classSymbol.html">00225</a> class <a class="code" href="classSymbol.html">Symbol</a> : public Element {
00226    <span class="keyword">protected</span>:
<a name="l00227"></a><a class="code" href="classSymbol.html#p0">00227</a>       <a class="code" href="structSym.html">Sym</a> _sym;
00228 
00229    <span class="keyword">public</span>:
00230       <a class="code" href="classSymbol.html">Symbol</a>(<a class="code" href="classScore.html">Score</a>*);
<a name="l00231"></a><a class="code" href="classSymbol.html#a1">00231</a>       <span class="keyword">virtual</span> ~<a class="code" href="classSymbol.html">Symbol</a>() {}
00232       <a class="code" href="classSymbol.html">Symbol</a>(<span class="keyword">const</span> <a class="code" href="classSymbol.html">Symbol</a>&amp;);
<a name="l00233"></a><a class="code" href="classSymbol.html#a3">00233</a>       <span class="keyword">virtual</span> Element* clone()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classSymbol.html">Symbol</a>(*<span class="keyword">this</span>); }
00234 
00235       <span class="keyword">virtual</span> <span class="keywordtype">void</span> setSym(<span class="keyword">const</span> <a class="code" href="structSym.html">Sym</a>&amp; s);
<a name="l00236"></a><a class="code" href="classSymbol.html#a5">00236</a>       <span class="keyword">const</span> <a class="code" href="structSym.html">Sym</a>&amp; sym()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _sym;  }
00237 
00238       <span class="keyword">virtual</span> <span class="keywordtype">double</span> width() const;
00239       virtual <span class="keywordtype">double</span> height() const;
00240       <span class="keywordtype">double</span> baseline() const;
00241 
00242       virtual <span class="keywordtype">void</span> draw1(<a class="code" href="classPainter.html">Painter</a>&amp;) const;
00243       virtual <span class="keywordtype">void</span> write(Xml&amp; xml) const;
00244       virtual <span class="keywordtype">void</span> read(QDomNode);
00245 
<a name="l00246"></a><a class="code" href="classSymbol.html#a12">00246</a>       virtual <span class="keywordtype">bool</span> startDrag(const QPointF&amp;) { <span class="keywordflow">return</span> <span class="keyword">true</span>; }
00247       };
00248 
<a name="l00249"></a><a class="code" href="element_8h.html#a4">00249</a> <span class="keyword">typedef</span> <a class="code" href="classpstl_1_1plist.html">pstl::plist&lt;Symbol*&gt;</a> <a class="code" href="classpstl_1_1plist.html">SymbolList</a>;
<a name="l00250"></a><a class="code" href="element_8h.html#a5">00250</a> <span class="keyword">typedef</span> SymbolList::iterator <a class="code" href="element_8h.html#a5">iSymbol</a>;
<a name="l00251"></a><a class="code" href="element_8h.html#a6">00251</a> <span class="keyword">typedef</span> SymbolList::const_iterator <a class="code" href="element_8h.html#a6">ciSymbol</a>;
00252 
00253 <span class="comment">//---------------------------------------------------------</span>
00254 <span class="comment">//   SStaff</span>
00255 <span class="comment">//    graphic representation of a staff</span>
00256 <span class="comment">//---------------------------------------------------------</span>
00257 
<a name="l00258"></a><a class="code" href="classSStaff.html">00258</a> <span class="keyword">class </span><a class="code" href="classSStaff.html">SStaff</a> : <span class="keyword">public</span> <a class="code" href="classElement.html">Element</a> {
<a name="l00259"></a><a class="code" href="classSStaff.html#r0">00259</a>       <a class="code" href="classSpatium.html">Spatium</a> lineWidth;
<a name="l00260"></a><a class="code" href="classSStaff.html#r1">00260</a>       <span class="keywordtype">int</span> lines;
00261 
00262    <span class="keyword">public</span>:
00263       <a class="code" href="classSStaff.html">SStaff</a>(<a class="code" href="classScore.html">Score</a>*);
00264       <a class="code" href="classSStaff.html">SStaff</a>(<span class="keyword">const</span> <a class="code" href="classSStaff.html">SStaff</a>&amp;);
00265 
00266       <span class="keyword">virtual</span> <span class="keywordtype">void</span> draw1(<a class="code" href="classPainter.html">Painter</a>&amp;) const;
<a name="l00267"></a><a class="code" href="classSStaff.html#a3">00267</a>       virtual <a class="code" href="classElement.html">Element</a>* clone()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classSStaff.html">SStaff</a>(*<span class="keyword">this</span>); }
00268       <span class="keyword">virtual</span> <span class="keywordtype">void</span> write(<a class="code" href="classXml.html">Xml</a>&amp; xml) <span class="keyword">const</span>;
00269       <span class="keyword">virtual</span> <span class="keywordtype">void</span> read(QDomNode);
00270       };
00271 
00272 <span class="comment">//---------------------------------------------------------</span>
00273 <span class="comment">//   Akkolade</span>
00274 <span class="comment">//---------------------------------------------------------</span>
00275 
<a name="l00276"></a><a class="code" href="classAkkolade.html">00276</a> <span class="keyword">class </span><a class="code" href="classAkkolade.html">Akkolade</a> : <span class="keyword">public</span> <a class="code" href="classElement.html">Element</a> {
<a name="l00277"></a><a class="code" href="classAkkolade.html#r0">00277</a>       <span class="keywordtype">double</span> h2;
<a name="l00278"></a><a class="code" href="classAkkolade.html#r1">00278</a>       <span class="keywordtype">double</span> w;
<a name="l00279"></a><a class="code" href="classAkkolade.html#r2">00279</a>       QPainterPath* path;
00280 
00281       <span class="keywordtype">void</span> updateValues();
00282 
00283    <span class="keyword">public</span>:
00284       <a class="code" href="classAkkolade.html">Akkolade</a>(<a class="code" href="classScore.html">Score</a>*);
<a name="l00285"></a><a class="code" href="classAkkolade.html#a1">00285</a>       <a class="code" href="classAkkolade.html">Akkolade</a>(<span class="keyword">const</span> <a class="code" href="classAkkolade.html">Akkolade</a>&amp; a) : <a class="code" href="classElement.html">Element</a>(a) {}
<a name="l00286"></a><a class="code" href="classAkkolade.html#a2">00286</a>       <span class="keyword">virtual</span> <a class="code" href="classAkkolade.html">Akkolade</a>* clone()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classAkkolade.html">Akkolade</a>(*<span class="keyword">this</span>); }
00287 
00288       <span class="keywordtype">void</span> setHeight(<span class="keywordtype">double</span> h);
00289       <span class="keywordtype">void</span> setWidth(<span class="keywordtype">double</span> val);
<a name="l00290"></a><a class="code" href="classAkkolade.html#a5">00290</a>       <span class="keywordtype">double</span> height()<span class="keyword"> const     </span>{ <span class="keywordflow">return</span> h2; }
<a name="l00291"></a><a class="code" href="classAkkolade.html#a6">00291</a>       <span class="keywordtype">double</span> width()<span class="keyword"> const      </span>{ <span class="keywordflow">return</span> w; }
00292 
00293       <span class="keyword">virtual</span> <span class="keywordtype">void</span> draw1(<a class="code" href="classPainter.html">Painter</a>&amp;) const;
00294       virtual <span class="keywordtype">void</span> write(<a class="code" href="classXml.html">Xml</a>&amp; xml) const;
00295       virtual <span class="keywordtype">void</span> read(QDomNode);
00296       };
00297 
00298 <span class="comment">//---------------------------------------------------------</span>
00299 <span class="comment">//   Clef</span>
00300 <span class="comment">//---------------------------------------------------------</span>
00301 
<a name="l00302"></a><a class="code" href="classClef.html">00302</a> class <a class="code" href="classClef.html">Clef</a> : public <a class="code" href="classSymbol.html">Symbol</a> {
<a name="l00303"></a><a class="code" href="classClef.html#r0">00303</a>       <span class="keywordtype">int</span> val;
<a name="l00304"></a><a class="code" href="classClef.html#r1">00304</a>       <span class="keywordtype">bool</span> _small;
00305 
00306    <span class="keyword">public</span>:
00307       <a class="code" href="classClef.html">Clef</a>(<a class="code" href="classScore.html">Score</a>*);
00308       <a class="code" href="classClef.html">Clef</a>(<a class="code" href="classScore.html">Score</a>*, <span class="keywordtype">int</span> i, <span class="keywordtype">bool</span> small = <span class="keyword">false</span>);
00309       <a class="code" href="classClef.html">Clef</a>(<span class="keyword">const</span> <a class="code" href="classClef.html">Clef</a>&amp;);
<a name="l00310"></a><a class="code" href="classClef.html#a3">00310</a>       <span class="keyword">virtual</span> <a class="code" href="classClef.html">Clef</a>* clone()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classClef.html">Clef</a>(*<span class="keyword">this</span>); }
00311       <span class="keywordtype">void</span> setIdx(<span class="keywordtype">int</span> v, <span class="keywordtype">bool</span> small = <span class="keyword">false</span>);
<a name="l00312"></a><a class="code" href="classClef.html#a5">00312</a>       <span class="keywordtype">int</span> idx()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> val; }
<a name="l00313"></a><a class="code" href="classClef.html#a6">00313</a>       <span class="keywordtype">bool</span> small()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _small; }
00314       <span class="keywordtype">void</span> setSmall(<span class="keywordtype">bool</span> s);
00315       <span class="keyword">virtual</span> <span class="keywordtype">void</span> write(<a class="code" href="classXml.html">Xml</a>&amp; xml) <span class="keyword">const</span>;
00316       <span class="keyword">virtual</span> <span class="keywordtype">void</span> read(QDomNode);
00317       <span class="keyword">virtual</span> <span class="keywordtype">void</span> space(<span class="keywordtype">double</span>&amp; min, <span class="keywordtype">double</span>&amp; extra) <span class="keyword">const</span>;
00318       };
00319 
00320 <span class="comment">//---------------------------------------------------------</span>
00321 <span class="comment">//   Flag</span>
00322 <span class="comment">//---------------------------------------------------------</span>
00323 
<a name="l00324"></a><a class="code" href="classFlag.html">00324</a> <span class="keyword">class </span><a class="code" href="classFlag.html">Flag</a> : <span class="keyword">public</span> <a class="code" href="classSymbol.html">Symbol</a> {
<a name="l00325"></a><a class="code" href="classFlag.html#r0">00325</a>       <span class="keywordtype">int</span> val;
<a name="l00326"></a><a class="code" href="classFlag.html#r1">00326</a>       <span class="keywordtype">bool</span> _small;
00327 
00328    <span class="keyword">public</span>:
00329       <a class="code" href="classFlag.html">Flag</a>(<a class="code" href="classScore.html">Score</a>*);
00330       <a class="code" href="classFlag.html">Flag</a>(<span class="keyword">const</span> <a class="code" href="classFlag.html">Flag</a>&amp;);
<a name="l00331"></a><a class="code" href="classFlag.html#a2">00331</a>       <span class="keyword">virtual</span> <a class="code" href="classFlag.html">Flag</a>* clone()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classFlag.html">Flag</a>(*<span class="keyword">this</span>); }
<a name="l00332"></a><a class="code" href="classFlag.html#a3">00332</a>       <span class="keywordtype">int</span> idx()<span class="keyword"> const               </span>{ <span class="keywordflow">return</span> val; }
00333       <span class="keywordtype">void</span> setIdx(<span class="keywordtype">int</span> v, <span class="keywordtype">bool</span>);
00334       };
00335 
00336 <span class="comment">//---------------------------------------------------------</span>
00337 <span class="comment">//   Cursor</span>
00338 <span class="comment">//---------------------------------------------------------</span>
00339 
<a name="l00340"></a><a class="code" href="classCursor.html">00340</a> <span class="keyword">class </span><a class="code" href="classCursor.html">Cursor</a> : <span class="keyword">public</span> <a class="code" href="classElement.html">Element</a> {
00341    <span class="keyword">protected</span>:
<a name="l00342"></a><a class="code" href="classCursor.html#p0">00342</a>       <span class="keywordtype">double</span> dlen;
<a name="l00343"></a><a class="code" href="classCursor.html#p1">00343</a>       <span class="keywordtype">double</span> lineWidth;
<a name="l00344"></a><a class="code" href="classCursor.html#p2">00344</a>       <span class="keywordtype">bool</span> _off;        <span class="comment">// for blinking</span>
00345 
00346    <span class="keyword">public</span>:
00347       <a class="code" href="classCursor.html">Cursor</a>(<a class="code" href="classScore.html">Score</a>*, <span class="keywordtype">double</span> l);
00348       <a class="code" href="classCursor.html">Cursor</a>(<span class="keyword">const</span> <a class="code" href="classCursor.html">Cursor</a>&amp; c);
<a name="l00349"></a><a class="code" href="classCursor.html#a2">00349</a>       <span class="keyword">virtual</span> <a class="code" href="classCursor.html">Cursor</a>* clone()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classCursor.html">Cursor</a>(*<span class="keyword">this</span>); }
00350       <span class="keyword">virtual</span> <span class="keywordtype">void</span> draw1(<a class="code" href="classPainter.html">Painter</a>&amp;) const;
<a name="l00351"></a><a class="code" href="classCursor.html#a4">00351</a>       <span class="keywordtype">void</span> setOff(<span class="keywordtype">bool</span> f)     { _off = f; }
<a name="l00352"></a><a class="code" href="classCursor.html#a5">00352</a>       <span class="keywordtype">bool</span> off()<span class="keyword"> const        </span>{ <span class="keywordflow">return</span> _off; }
00353       };
00354 
00355 <span class="comment">//---------------------------------------------------------</span>
00356 <span class="comment">//   VSpacer</span>
00357 <span class="comment">//---------------------------------------------------------</span>
00358 
<a name="l00359"></a><a class="code" href="classVSpacer.html">00359</a> <span class="keyword">class </span><a class="code" href="classVSpacer.html">VSpacer</a> : <span class="keyword">public</span> <a class="code" href="classElement.html">Element</a> {
00360    <span class="keyword">protected</span>:
<a name="l00361"></a><a class="code" href="classVSpacer.html#p0">00361</a>       <span class="keywordtype">double</span> height;
00362 
00363    <span class="keyword">public</span>:
00364       <a class="code" href="classVSpacer.html">VSpacer</a>(<a class="code" href="classScore.html">Score</a>*, <span class="keywordtype">double</span> h);
00365       <a class="code" href="classVSpacer.html">VSpacer</a>(<span class="keyword">const</span> <a class="code" href="classVSpacer.html">VSpacer</a>&amp; c);
<a name="l00366"></a><a class="code" href="classVSpacer.html#a2">00366</a>       <span class="keyword">virtual</span> <a class="code" href="classVSpacer.html">VSpacer</a>* clone()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classVSpacer.html">VSpacer</a>(*<span class="keyword">this</span>); }
00367       <span class="keyword">virtual</span> <span class="keywordtype">void</span> draw1(<a class="code" href="classPainter.html">Painter</a>&amp;) const;
00368       };
00369 
00370 <span class="comment">//---------------------------------------------------------</span>
00371 <span class="comment">//   Lasso</span>
00372 <span class="comment">//---------------------------------------------------------</span>
00373 
<a name="l00374"></a><a class="code" href="classLasso.html">00374</a> class <a class="code" href="classLasso.html">Lasso</a> : public <a class="code" href="classElement.html">Element</a> {
00375    <span class="keyword">public</span>:
00376       <a class="code" href="classLasso.html">Lasso</a>(<a class="code" href="classScore.html">Score</a>*);
<a name="l00377"></a><a class="code" href="classLasso.html#a1">00377</a>       <a class="code" href="classLasso.html">Lasso</a>(<span class="keyword">const</span> <a class="code" href="classLasso.html">Lasso</a>&amp; c) : Element(c) {}
<a name="l00378"></a><a class="code" href="classLasso.html#a2">00378</a>       <span class="keyword">virtual</span> <a class="code" href="classLasso.html">Lasso</a>* clone()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classLasso.html">Lasso</a>(*<span class="keyword">this</span>); }
00379       <span class="keyword">virtual</span> <span class="keywordtype">void</span> draw1(<a class="code" href="classPainter.html">Painter</a>&amp;) const;
00380       };
00381 
00382 <span class="comment">//---------------------------------------------------------</span>
00383 <span class="comment">//   Line</span>
00384 <span class="comment">//---------------------------------------------------------</span>
00385 
<a name="l00386"></a><a class="code" href="classLine.html">00386</a> class <a class="code" href="classLine.html">Line</a> : public Element {
<a name="l00387"></a><a class="code" href="classLine.html#r0">00387</a>       <a class="code" href="classSpatium.html">Spatium</a> _width;
<a name="l00388"></a><a class="code" href="classLine.html#r1">00388</a>       <a class="code" href="classSpatium.html">Spatium</a> _len;
00389 
00390       <span class="keywordtype">void</span> bboxUpdate();
00391 
00392    <span class="keyword">protected</span>:
<a name="l00393"></a><a class="code" href="classLine.html#p0">00393</a>       <span class="keywordtype">bool</span> vertical;
00394 
00395    <span class="keyword">public</span>:
00396       <a class="code" href="classLine.html">Line</a>(<a class="code" href="classScore.html">Score</a>*);
00397       <a class="code" href="classLine.html">Line</a>(<a class="code" href="classScore.html">Score</a>*, <span class="keywordtype">bool</span> vertical);
00398       <a class="code" href="classLine.html">Line</a>(<span class="keyword">const</span> <a class="code" href="classLine.html">Line</a>&amp;);
<a name="l00399"></a><a class="code" href="classLine.html#a3">00399</a>       <span class="keyword">virtual</span> <a class="code" href="classLine.html">Line</a>* clone()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classLine.html">Line</a>(*<span class="keyword">this</span>); }
00400       <span class="keyword">virtual</span> <span class="keywordtype">void</span> draw1(<a class="code" href="classPainter.html">Painter</a>&amp;) const;
00401       <span class="keywordtype">void</span> writeProperties(<a class="code" href="classXml.html">Xml</a>&amp; xml) const;
00402       <span class="keywordtype">bool</span> readProperties(QDomNode);
00403       <span class="keywordtype">void</span> dump() const;
00404 
<a name="l00405"></a><a class="code" href="classLine.html#a8">00405</a>       <a class="code" href="classSpatium.html">Spatium</a> len()   <span class="keyword"> const </span>{ <span class="keywordflow">return</span> _len; }
<a name="l00406"></a><a class="code" href="classLine.html#a9">00406</a>       <a class="code" href="classSpatium.html">Spatium</a> lineWidth()  const { <span class="keywordflow">return</span> _width; }
00407       <span class="keywordtype">void</span> setLen(<a class="code" href="classSpatium.html">Spatium</a>);
00408       <span class="keywordtype">void</span> setLineWidth(<a class="code" href="classSpatium.html">Spatium</a>);
00409       };
00410 
00411 <span class="comment">//---------------------------------------------------------</span>
00412 <span class="comment">//   Compound</span>
00413 <span class="comment">//---------------------------------------------------------</span>
00414 
<a name="l00415"></a><a class="code" href="classCompound.html">00415</a> <span class="keyword">class </span><a class="code" href="classCompound.html">Compound</a> : <span class="keyword">public</span> Element {
<a name="l00416"></a><a class="code" href="classCompound.html#r0">00416</a>       <a class="code" href="classElementList.html">ElementList</a> elemente;
00417 
00418    <span class="keyword">public</span>:
00419       <a class="code" href="classCompound.html">Compound</a>(<a class="code" href="classScore.html">Score</a>*, ElementType);
00420       <a class="code" href="classCompound.html">Compound</a>(<span class="keyword">const</span> <a class="code" href="classCompound.html">Compound</a>&amp;);
<a name="l00421"></a><a class="code" href="classCompound.html#a2">00421</a>       <span class="keyword">virtual</span> <a class="code" href="classCompound.html">Compound</a>* clone()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classCompound.html">Compound</a>(*<span class="keyword">this</span>); }
00422 
00423       <span class="keyword">virtual</span> <span class="keywordtype">void</span> draw1(<a class="code" href="classPainter.html">Painter</a>&amp;) const;
00424       virtual <span class="keywordtype">void</span> addElement(Element*, <span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y);
00425       <span class="keywordtype">void</span> clear();
00426       virtual <span class="keywordtype">void</span> setSelected(<span class="keywordtype">bool</span> f);
00427       virtual <span class="keywordtype">void</span> setVisible(<span class="keywordtype">bool</span>);
00428       };
00429 
00430 <span class="comment">//---------------------------------------------------------</span>
00431 <span class="comment">//   Prefix</span>
00432 <span class="comment">//---------------------------------------------------------</span>
00433 
<a name="l00434"></a><a class="code" href="classPrefix.html">00434</a> class <a class="code" href="classPrefix.html">Prefix</a> : public <a class="code" href="classCompound.html">Compound</a> {
<a name="l00435"></a><a class="code" href="classPrefix.html#r0">00435</a>       <span class="keywordtype">int</span> val;
<a name="l00436"></a><a class="code" href="classPrefix.html#r1">00436</a>       <span class="keywordtype">bool</span> small;
00437 
00438    <span class="keyword">public</span>:
00439       <a class="code" href="classPrefix.html">Prefix</a>(<a class="code" href="classScore.html">Score</a>*, <span class="keywordtype">int</span> i, <span class="keywordtype">bool</span> small);
00440       <a class="code" href="classPrefix.html">Prefix</a>(<span class="keyword">const</span> <a class="code" href="classPrefix.html">Prefix</a>&amp;);
<a name="l00441"></a><a class="code" href="classPrefix.html#a2">00441</a>       <span class="keywordtype">int</span> idx()<span class="keyword"> const               </span>{ <span class="keywordflow">return</span> val; }
00442       <span class="keywordtype">void</span> setIdx(<span class="keywordtype">int</span> v);
<a name="l00443"></a><a class="code" href="classPrefix.html#a4">00443</a>       <span class="keyword">virtual</span> <a class="code" href="classPrefix.html">Prefix</a>* clone()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classPrefix.html">Prefix</a>(*<span class="keyword">this</span>); }
00444       };
00445 
00446 <span class="comment">//---------------------------------------------------------</span>
00447 <span class="comment">//   TimeSig</span>
00448 <span class="comment">//    Time Signature</span>
00449 <span class="comment">//---------------------------------------------------------</span>
00450 
00451 <span class="keyword">enum</span> { <a class="code" href="element_8h.html#a67a53">TSIG_2_2</a>, <a class="code" href="element_8h.html#a67a54">TSIG_2_4</a>, <a class="code" href="element_8h.html#a67a55">TSIG_3_4</a>, <a class="code" href="element_8h.html#a67a56">TSIG_4_4</a>, <a class="code" href="element_8h.html#a67a57">TSIG_5_4</a>, <a class="code" href="element_8h.html#a67a58">TSIG_6_4</a>,
00452        <a class="code" href="element_8h.html#a67a59">TSIG_3_8</a>, <a class="code" href="element_8h.html#a67a60">TSIG_6_8</a>, <a class="code" href="element_8h.html#a67a61">TSIG_12_8</a>, <a class="code" href="element_8h.html#a67a62">TSIG_44</a>, <a class="code" href="element_8h.html#a67a63">TSIG_34</a>, <a class="code" href="element_8h.html#a67a64">TSIG_N</a>
00453       };
00454 
<a name="l00455"></a><a class="code" href="classTimeSig.html">00455</a> <span class="keyword">class </span><a class="code" href="classTimeSig.html">TimeSig</a> : <span class="keyword">public</span> <a class="code" href="classCompound.html">Compound</a> {
<a name="l00456"></a><a class="code" href="classTimeSig.html#r0">00456</a>       <span class="keywordtype">int</span> val;
<a name="l00457"></a><a class="code" href="classTimeSig.html#r1">00457</a>       <span class="keywordtype">int</span> _z, _n;
00458 
00459    <span class="keyword">public</span>:
00460       <a class="code" href="classTimeSig.html">TimeSig</a>(<a class="code" href="classScore.html">Score</a>*);
00461       <a class="code" href="classTimeSig.html">TimeSig</a>(<a class="code" href="classScore.html">Score</a>*, <span class="keywordtype">int</span>);
00462       <a class="code" href="classTimeSig.html">TimeSig</a>(<span class="keyword">const</span> <a class="code" href="classTimeSig.html">TimeSig</a>&amp;);
<a name="l00463"></a><a class="code" href="classTimeSig.html#a3">00463</a>       <span class="keyword">virtual</span> <a class="code" href="classTimeSig.html">TimeSig</a>* clone()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classTimeSig.html">TimeSig</a>(*<span class="keyword">this</span>); }
00464       <span class="keywordtype">void</span> setIdx(<span class="keywordtype">int</span> v);
<a name="l00465"></a><a class="code" href="classTimeSig.html#a5">00465</a>       <span class="keywordtype">int</span> idx()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> val; }
00466       <span class="keyword">virtual</span> <span class="keywordtype">void</span> write(<a class="code" href="classXml.html">Xml</a>&amp; xml) <span class="keyword">const</span>;
00467       <span class="keyword">virtual</span> <span class="keywordtype">void</span> read(QDomNode);
00468       <span class="keywordtype">void</span> zn(<span class="keywordtype">int</span>&amp;, <span class="keywordtype">int</span>&amp;) const;
00469       <span class="keywordtype">void</span> setSig(<span class="keywordtype">int</span> z, <span class="keywordtype">int</span> n);
00470       };
00471 
00472 <span class="comment">//---------------------------------------------------------</span>
00473 <span class="comment">//   KeySig</span>
00474 <span class="comment">//    Key Signature</span>
00475 <span class="comment">//---------------------------------------------------------</span>
00476 
<a name="l00477"></a><a class="code" href="classKeySig.html">00477</a> class <a class="code" href="classKeySig.html">KeySig</a> : public <a class="code" href="classCompound.html">Compound</a> {
<a name="l00478"></a><a class="code" href="classKeySig.html#r0">00478</a>       <span class="keywordtype">int</span> val;
<a name="l00479"></a><a class="code" href="classKeySig.html#r1">00479</a>       <span class="keywordtype">int</span> off;
00480 
00481    <span class="keyword">public</span>:
00482       <a class="code" href="classKeySig.html">KeySig</a>(<a class="code" href="classScore.html">Score</a>*);
00483       <a class="code" href="classKeySig.html">KeySig</a>(<a class="code" href="classScore.html">Score</a>*, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>);
00484       <a class="code" href="classKeySig.html">KeySig</a>(<span class="keyword">const</span> <a class="code" href="classKeySig.html">KeySig</a>&amp;);
<a name="l00485"></a><a class="code" href="classKeySig.html#a3">00485</a>       <span class="keyword">virtual</span> <a class="code" href="classKeySig.html">KeySig</a>* clone()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classKeySig.html">KeySig</a>(*<span class="keyword">this</span>); }
00486       <span class="keywordtype">void</span> setIdx(<span class="keywordtype">int</span> v, <span class="keywordtype">int</span> yoffset);
<a name="l00487"></a><a class="code" href="classKeySig.html#a5">00487</a>       <span class="keywordtype">int</span> idx()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> val; }
00488       <span class="keyword">virtual</span> <span class="keywordtype">void</span> write(<a class="code" href="classXml.html">Xml</a>&amp; xml) <span class="keyword">const</span>;
00489       <span class="keyword">virtual</span> <span class="keywordtype">void</span> read(QDomNode);
00490       };
00491 
00492 <span class="comment">//---------------------------------------------------------</span>
00493 <span class="comment">//   RubberBand</span>
00494 <span class="comment">//---------------------------------------------------------</span>
00495 
<a name="l00496"></a><a class="code" href="classRubberBand.html">00496</a> <span class="keyword">class </span><a class="code" href="classRubberBand.html">RubberBand</a> : <span class="keyword">public</span> Element {
<a name="l00497"></a><a class="code" href="classRubberBand.html#r1">00497</a>       QPointF _p1, _p2;
00498 
00499    <span class="keyword">public</span>:
<a name="l00500"></a><a class="code" href="classRubberBand.html#a0">00500</a>       <a class="code" href="classRubberBand.html">RubberBand</a>(<a class="code" href="classScore.html">Score</a>* s) : Element(s, <a class="code" href="element_8h.html#a65a42">RUBBERBAND</a>) {}
<a name="l00501"></a><a class="code" href="classRubberBand.html#a1">00501</a>       <a class="code" href="classRubberBand.html">RubberBand</a>(<span class="keyword">const</span> <a class="code" href="classRubberBand.html">RubberBand</a>&amp; b) : Element(b) {}
<a name="l00502"></a><a class="code" href="classRubberBand.html#a2">00502</a>       <span class="keyword">virtual</span> <a class="code" href="classRubberBand.html">RubberBand</a>* clone()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classRubberBand.html">RubberBand</a>(*<span class="keyword">this</span>); }
00503       <span class="keyword">virtual</span> <span class="keywordtype">void</span> draw(<a class="code" href="classPainter.html">Painter</a>&amp;) const;
00504 
<a name="l00505"></a><a class="code" href="classRubberBand.html#a4">00505</a>       <span class="keywordtype">void</span> set(const QPointF&amp; p1, const QPointF&amp; p2) { _p1 = p1; _p2 = p2; }
<a name="l00506"></a><a class="code" href="classRubberBand.html#a5">00506</a>       QPointF p1()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _p1; }
<a name="l00507"></a><a class="code" href="classRubberBand.html#a6">00507</a>       QPointF p2()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _p2; }
00508       };
00509 
00510 <span class="preprocessor">#endif</span>
00511 <span class="preprocessor"></span>
</div></pre><hr size="1"><address style="align: right;"><small>Generated on Mon Jun 27 22:28:28 2005 for MuseScore by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
