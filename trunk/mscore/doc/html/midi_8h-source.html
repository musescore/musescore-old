<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>MuseScore: midi.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>midi.h</h1><a href="midi_8h.html">Go to the documentation of this file.</a><pre class="fragment"><div>00001 <span class="comment">//=========================================================</span>
00002 <span class="comment">//  MusE Score</span>
00003 <span class="comment">//  Linux Music Score Editor</span>
00004 <span class="comment">//  $Id: midi.h,v 1.4 2004/10/27 16:09:00 wschweer Exp $</span>
00005 <span class="comment">//</span>
00006 <span class="comment">//  (C) Copyright 2002-2004 Werner Schweer (ws@seh.de)</span>
00007 <span class="comment">//=========================================================</span>
00008 
00009 <span class="preprocessor">#ifndef __MIDI_H__</span>
00010 <span class="preprocessor"></span><span class="preprocessor">#define __MIDI_H__</span>
00011 <span class="preprocessor"></span>
<a name="l00012"></a><a class="code" href="midi_8h.html#a4">00012</a> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="midi_8h.html#a4">MIDI_PORTS</a> = 16;
00013 <span class="comment">// const int MIDI_CHANNEL = 16;</span>
00014 <span class="keyword">enum</span> {
00015       <a class="code" href="midi_8h.html#a50a13">ME_NOTEOFF</a>    = 0x80,
00016       <a class="code" href="midi_8h.html#a50a14">ME_NOTEON</a>     = 0x90,
00017       <a class="code" href="midi_8h.html#a50a15">ME_POLYAFTER</a>  = 0xa0,
00018       <a class="code" href="midi_8h.html#a50a16">ME_CONTROLLER</a> = 0xb0,
00019       <a class="code" href="midi_8h.html#a50a17">ME_PROGRAM</a>    = 0xc0,
00020       <a class="code" href="midi_8h.html#a50a18">ME_AFTERTOUCH</a> = 0xd0,
00021       <a class="code" href="midi_8h.html#a50a19">ME_PITCHBEND</a>  = 0xe0,
00022       <a class="code" href="midi_8h.html#a50a20">ME_SYSEX</a>      = 0xf0,
00023       <a class="code" href="midi_8h.html#a50a21">ME_META</a>       = 0xff,
00024       <a class="code" href="midi_8h.html#a50a22">ME_SONGPOS</a>    = 0xf2,
00025       <a class="code" href="midi_8h.html#a50a23">ME_CLOCK</a>      = 0xf8,
00026       <a class="code" href="midi_8h.html#a50a24">ME_START</a>      = 0xfa,
00027       <a class="code" href="midi_8h.html#a50a25">ME_CONTINUE</a>   = 0xfb,
00028       <a class="code" href="midi_8h.html#a50a26">ME_STOP</a>       = 0xfc,
00029       };
00030 
00031 <span class="keyword">enum</span> {
00032       <a class="code" href="midi_8h.html#a51a27">META_SEQUENCE_NUMBER</a> = 0,
00033       <a class="code" href="midi_8h.html#a51a28">META_TEXT</a>            = 1,
00034       <a class="code" href="midi_8h.html#a51a29">META_COPYRIGHT</a>       = 2,
00035       <a class="code" href="midi_8h.html#a51a30">META_TRACK_NAME</a>      = 3,
00036       <a class="code" href="midi_8h.html#a51a31">META_INSTRUMENT_NAME</a> = 4,
00037       <a class="code" href="midi_8h.html#a51a32">META_LYRIC</a>           = 5,
00038       <a class="code" href="midi_8h.html#a51a33">META_MARKER</a>          = 6,
00039       <a class="code" href="midi_8h.html#a51a34">META_CUE_POINT</a>       = 7,
00040       <a class="code" href="midi_8h.html#a51a35">META_TITLE</a>           = 8,     <span class="comment">// mscore extension</span>
00041       <a class="code" href="midi_8h.html#a51a36">META_SUBTITLE</a>        = 9,     <span class="comment">// mscore extension</span>
00042       <a class="code" href="midi_8h.html#a51a37">META_COMPOSER</a>        = 0xa,   <span class="comment">// mscore extension</span>
00043       <a class="code" href="midi_8h.html#a51a38">META_TRANSLATOR</a>      = 0xb,   <span class="comment">// mscore extension</span>
00044       <a class="code" href="midi_8h.html#a51a39">META_POET</a>            = 0xc,   <span class="comment">// mscore extension</span>
00045       <a class="code" href="midi_8h.html#a51a40">META_TRACK_COMMENT</a>   = 0xf,
00046       <a class="code" href="midi_8h.html#a51a41">META_PORT_CHANGE</a>     = 0x21,
00047       <a class="code" href="midi_8h.html#a51a42">META_CHANNEL_PREFIX</a>  = 0x22,
00048       <a class="code" href="midi_8h.html#a51a43">META_TEMPO</a>           = 0x51,
00049       <a class="code" href="midi_8h.html#a51a44">META_TIME_SIGNATURE</a>  = 0x58,
00050       <a class="code" href="midi_8h.html#a51a45">META_KEY_SIGNATURE</a>   = 0x59,
00051       };
00052 
00053 <span class="comment">//---------------------------------------------------------</span>
00054 <span class="comment">//   MidiEvent</span>
00055 <span class="comment">//---------------------------------------------------------</span>
00056 
<a name="l00057"></a><a class="code" href="structMidiEvent.html">00057</a> <span class="keyword">struct </span><a class="code" href="structMidiEvent.html">MidiEvent</a> {
<a name="l00058"></a><a class="code" href="structMidiEvent.html#o0">00058</a>       <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* <a class="code" href="structMidiEvent.html#o0">data</a>;
<a name="l00059"></a><a class="code" href="structMidiEvent.html#o1">00059</a>       <span class="keywordtype">int</span> <a class="code" href="structMidiEvent.html#o1">dataLen</a>;
<a name="l00060"></a><a class="code" href="structMidiEvent.html#o2">00060</a>       <span class="keywordtype">int</span> <a class="code" href="structMidiEvent.html#o2">tick</a>;
<a name="l00061"></a><a class="code" href="structMidiEvent.html#o3">00061</a>       <span class="keywordtype">int</span> <a class="code" href="structMidiEvent.html#o3">len</a>;
<a name="l00062"></a><a class="code" href="structMidiEvent.html#o4">00062</a>       <span class="keywordtype">int</span> <a class="code" href="structMidiEvent.html#o4">type</a>;
<a name="l00063"></a><a class="code" href="structMidiEvent.html#o7">00063</a>       <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="structMidiEvent.html#o5">dataA</a>, <a class="code" href="structMidiEvent.html#o6">dataB</a>, <a class="code" href="structMidiEvent.html#o7">dataC</a>;
<a name="l00064"></a><a class="code" href="structMidiEvent.html#a0">00064</a>       <a class="code" href="structMidiEvent.html#a0">MidiEvent</a>() {
00065             <a class="code" href="structMidiEvent.html#o0">data</a> = 0;
00066             <a class="code" href="structMidiEvent.html#o1">dataLen</a> = 0;
00067             <a class="code" href="structMidiEvent.html#o3">len</a> = 0;
00068             <a class="code" href="structMidiEvent.html#o2">tick</a> = 0;
00069             }
<a name="l00070"></a><a class="code" href="structMidiEvent.html#a1">00070</a>       <a class="code" href="structMidiEvent.html#a1">~MidiEvent</a>() {
00071             <span class="keywordflow">if</span> (<a class="code" href="structMidiEvent.html#o0">data</a>)
00072                   <span class="keyword">delete</span> <a class="code" href="structMidiEvent.html#o0">data</a>;
00073             }
<a name="l00074"></a><a class="code" href="structMidiEvent.html#a2">00074</a>       <span class="keywordtype">bool</span> <a class="code" href="structMidiEvent.html#a2">isNote</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structMidiEvent.html#o4">type</a> == <a class="code" href="midi_8h.html#a50a14">ME_NOTEON</a>; }
<a name="l00075"></a><a class="code" href="structMidiEvent.html#a3">00075</a>       <span class="keywordtype">bool</span> <a class="code" href="structMidiEvent.html#a3">isNoteOff</a>()<span class="keyword"> const </span>{
00076             <span class="keywordflow">return</span> (<a class="code" href="structMidiEvent.html#o4">type</a> == <a class="code" href="midi_8h.html#a50a13">ME_NOTEOFF</a>) || ((<a class="code" href="structMidiEvent.html#o4">type</a> == <a class="code" href="midi_8h.html#a50a14">ME_NOTEON</a>) &amp;&amp; (<a class="code" href="structMidiEvent.html#o6">dataB</a> == 0));
00077             }
<a name="l00078"></a><a class="code" href="structMidiEvent.html#a4">00078</a>       <span class="keywordtype">bool</span> <a class="code" href="structMidiEvent.html#a3">isNoteOff</a>(<a class="code" href="structMidiEvent.html">MidiEvent</a>* e) {
00079             <span class="keywordflow">return</span> (e-&gt;<a class="code" href="structMidiEvent.html#a3">isNoteOff</a>() &amp;&amp; (e-&gt;<a class="code" href="structMidiEvent.html#o5">dataA</a> == <a class="code" href="structMidiEvent.html#o5">dataA</a>));
00080             }
<a name="l00081"></a><a class="code" href="structMidiEvent.html#a5">00081</a>       <span class="keywordtype">int</span> <a class="code" href="structMidiEvent.html#a5">pitch</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structMidiEvent.html#o5">dataA</a>; }
00082       };
00083 
<a name="l00084"></a><a class="code" href="midi_8h.html#a5">00084</a> <span class="keyword">typedef</span> std::multimap&lt;int, MidiEvent*, std::less&lt;int&gt; &gt; <a class="code" href="midi_8h.html#a5">EventList</a>;
<a name="l00085"></a><a class="code" href="midi_8h.html#a6">00085</a> <span class="keyword">typedef</span> EventList::iterator <a class="code" href="midi_8h.html#a6">iEvent</a>;
<a name="l00086"></a><a class="code" href="midi_8h.html#a7">00086</a> <span class="keyword">typedef</span> EventList::reverse_iterator <a class="code" href="midi_8h.html#a7">riEvent</a>;
<a name="l00087"></a><a class="code" href="midi_8h.html#a8">00087</a> <span class="keyword">typedef</span> EventList::const_iterator <a class="code" href="midi_8h.html#a8">ciEvent</a>;
<a name="l00088"></a><a class="code" href="midi_8h.html#a9">00088</a> <span class="keyword">typedef</span> std::pair &lt;iEvent, iEvent&gt; <a class="code" href="midi_8h.html#a9">EventRange</a>;
00089 
00090 <span class="comment">//---------------------------------------------------------</span>
00091 <span class="comment">//   MidiTrack</span>
00092 <span class="comment">//---------------------------------------------------------</span>
00093 
<a name="l00094"></a><a class="code" href="classMidiTrack.html">00094</a> <span class="keyword">class </span><a class="code" href="classMidiTrack.html">MidiTrack</a> {
<a name="l00095"></a><a class="code" href="classMidiTrack.html#r0">00095</a>       <a class="code" href="midi_8h.html#a5">EventList</a>* <a class="code" href="classMidiTrack.html#r0">_events</a>;
<a name="l00096"></a><a class="code" href="classMidiTrack.html#r1">00096</a>       <span class="keywordtype">int</span> <a class="code" href="classMidiTrack.html#r1">_outChannel</a>;
<a name="l00097"></a><a class="code" href="classMidiTrack.html#r2">00097</a>       <span class="keywordtype">int</span> <a class="code" href="classMidiTrack.html#r2">_outPort</a>;
<a name="l00098"></a><a class="code" href="classMidiTrack.html#r3">00098</a>       QString <a class="code" href="classMidiTrack.html#r3">_name</a>;
<a name="l00099"></a><a class="code" href="classMidiTrack.html#r4">00099</a>       QString <a class="code" href="classMidiTrack.html#r4">_comment</a>;
<a name="l00100"></a><a class="code" href="classMidiTrack.html#r5">00100</a>       <span class="keywordtype">bool</span> <a class="code" href="classMidiTrack.html#r5">_drumTrack</a>;
<a name="l00101"></a><a class="code" href="classMidiTrack.html#r6">00101</a>       <span class="keywordtype">bool</span> <a class="code" href="classMidiTrack.html#r6">_minor</a>;
<a name="l00102"></a><a class="code" href="classMidiTrack.html#r7">00102</a>       <span class="keywordtype">int</span> <a class="code" href="classMidiTrack.html#r7">_key</a>;
00103 
00104    <span class="keyword">public</span>:
00105       <a class="code" href="classMidiTrack.html#a0">MidiTrack</a>();
00106       <a class="code" href="classMidiTrack.html#a1">~MidiTrack</a>();
00107 
<a name="l00108"></a><a class="code" href="classMidiTrack.html#o2">00108</a>       <span class="keywordtype">int</span> <a class="code" href="classMidiTrack.html#o0">hbank</a>, <a class="code" href="classMidiTrack.html#o1">lbank</a>, <a class="code" href="classMidiTrack.html#o2">program</a>;
<a name="l00109"></a><a class="code" href="classMidiTrack.html#o3">00109</a>       <span class="keywordtype">int</span> <a class="code" href="classMidiTrack.html#o3">minPitch</a>, <a class="code" href="classMidiTrack.html#o4">maxPitch</a>, <a class="code" href="classMidiTrack.html#o5">medPitch</a>;
00110 
00111       <span class="keywordtype">bool</span> <a class="code" href="classMidiTrack.html#a2">empty</a>() const;
<a name="l00112"></a><a class="code" href="classMidiTrack.html#a3">00112</a>       EventList* events()<span class="keyword"> const         </span>{ <span class="keywordflow">return</span> <a class="code" href="classMidiTrack.html#r0">_events</a>; }
<a name="l00113"></a><a class="code" href="classMidiTrack.html#a4">00113</a>       <span class="keywordtype">int</span> <a class="code" href="classMidiTrack.html#a4">outChannel</a>()<span class="keyword"> const            </span>{ <span class="keywordflow">return</span> <a class="code" href="classMidiTrack.html#r1">_outChannel</a>; }
<a name="l00114"></a><a class="code" href="classMidiTrack.html#a5">00114</a>       <span class="keywordtype">void</span> <a class="code" href="classMidiTrack.html#a5">setOutChannel</a>(<span class="keywordtype">int</span> n)         { <a class="code" href="classMidiTrack.html#r1">_outChannel</a> = n; }
<a name="l00115"></a><a class="code" href="classMidiTrack.html#a6">00115</a>       <span class="keywordtype">int</span> <a class="code" href="classMidiTrack.html#a6">outPort</a>()<span class="keyword"> const               </span>{ <span class="keywordflow">return</span> <a class="code" href="classMidiTrack.html#r2">_outPort</a>; }
<a name="l00116"></a><a class="code" href="classMidiTrack.html#a7">00116</a>       <span class="keywordtype">void</span> <a class="code" href="classMidiTrack.html#a7">setOutPort</a>(<span class="keywordtype">int</span> n)            { <a class="code" href="classMidiTrack.html#r2">_outPort</a> = n; }
<a name="l00117"></a><a class="code" href="classMidiTrack.html#a8">00117</a>       QString <a class="code" href="classMidiTrack.html#a8">name</a>()<span class="keyword"> const              </span>{ <span class="keywordflow">return</span> <a class="code" href="classMidiTrack.html#r3">_name</a>; }
<a name="l00118"></a><a class="code" href="classMidiTrack.html#a9">00118</a>       <span class="keywordtype">void</span> <a class="code" href="classMidiTrack.html#a9">setName</a>(<span class="keyword">const</span> QString&amp; s)    { <a class="code" href="classMidiTrack.html#r3">_name</a> = s; }
<a name="l00119"></a><a class="code" href="classMidiTrack.html#a10">00119</a>       QString <a class="code" href="classMidiTrack.html#a10">comment</a>()<span class="keyword"> const           </span>{ <span class="keywordflow">return</span> <a class="code" href="classMidiTrack.html#r4">_comment</a>; }
<a name="l00120"></a><a class="code" href="classMidiTrack.html#a11">00120</a>       <span class="keywordtype">void</span> <a class="code" href="classMidiTrack.html#a11">setComment</a>(<span class="keyword">const</span> QString&amp; s) { <a class="code" href="classMidiTrack.html#r4">_comment</a> = s; }
<a name="l00121"></a><a class="code" href="classMidiTrack.html#a12">00121</a>       <span class="keywordtype">bool</span> <a class="code" href="classMidiTrack.html#a12">drumTrack</a>()<span class="keyword"> const            </span>{ <span class="keywordflow">return</span> <a class="code" href="classMidiTrack.html#r5">_drumTrack</a>; }
<a name="l00122"></a><a class="code" href="classMidiTrack.html#a13">00122</a>       <span class="keywordtype">void</span> <a class="code" href="classMidiTrack.html#a13">setDrumTrack</a>(<span class="keywordtype">bool</span> f)         { <a class="code" href="classMidiTrack.html#r5">_drumTrack</a> = f; }
00123       QString instrName(<span class="keywordtype">int</span> type) <span class="keyword">const</span>;
<a name="l00124"></a><a class="code" href="classMidiTrack.html#a15">00124</a>       <span class="keywordtype">void</span> <a class="code" href="classMidiTrack.html#a15">setMinor</a>(<span class="keywordtype">bool</span> v)             { <a class="code" href="classMidiTrack.html#r6">_minor</a> = v; }
00125 <span class="preprocessor">#undef minor    // who sets this macro?</span>
<a name="l00126"></a><a class="code" href="classMidiTrack.html#a16">00126</a> <span class="preprocessor"></span>      <span class="keywordtype">bool</span> <a class="code" href="classMidiTrack.html#a16">minor</a>()<span class="keyword"> const                </span>{ <span class="keywordflow">return</span> <a class="code" href="classMidiTrack.html#r6">_minor</a>; }
<a name="l00127"></a><a class="code" href="classMidiTrack.html#a17">00127</a>       <span class="keywordtype">void</span> <a class="code" href="classMidiTrack.html#a17">setKey</a>(<span class="keywordtype">int</span> k)                { <a class="code" href="classMidiTrack.html#r7">_key</a> = k; }
<a name="l00128"></a><a class="code" href="classMidiTrack.html#a18">00128</a>       <span class="keywordtype">int</span> <a class="code" href="classMidiTrack.html#a18">key</a>()<span class="keyword"> const                   </span>{ <span class="keywordflow">return</span> <a class="code" href="classMidiTrack.html#r7">_key</a>; }
00129       };
00130 
<a name="l00131"></a><a class="code" href="midi_8h.html#a10">00131</a> <span class="keyword">typedef</span> std::vector&lt;MidiTrack*&gt; <a class="code" href="midi_8h.html#a10">MidiTrackList</a>;
<a name="l00132"></a><a class="code" href="midi_8h.html#a11">00132</a> <span class="keyword">typedef</span> MidiTrackList::iterator <a class="code" href="midi_8h.html#a11">iMidiTrack</a>;
<a name="l00133"></a><a class="code" href="midi_8h.html#a12">00133</a> <span class="keyword">typedef</span> MidiTrackList::const_iterator <a class="code" href="midi_8h.html#a12">ciMidiTrack</a>;
00134 
00135 <span class="comment">//---------------------------------------------------------</span>
00136 <span class="comment">//   MidiType</span>
00137 <span class="comment">//---------------------------------------------------------</span>
00138 
<a name="l00139"></a><a class="code" href="midi_8h.html#a52">00139</a> <span class="keyword">enum</span> <a class="code" href="midi_8h.html#a52">MidiType</a> {
00140       <a class="code" href="midi_8h.html#a52a46">MT_UNKNOWN</a> = 0, <a class="code" href="midi_8h.html#a52a47">MT_GM</a> = 1, <a class="code" href="midi_8h.html#a52a48">MT_GS</a> = 2, <a class="code" href="midi_8h.html#a52a49">MT_XG</a> = 4
00141       };
00142 
00143 <span class="comment">//---------------------------------------------------------</span>
00144 <span class="comment">//   MidiFile</span>
00145 <span class="comment">//---------------------------------------------------------</span>
00146 
<a name="l00147"></a><a class="code" href="classMidiFile.html">00147</a> <span class="keyword">class </span><a class="code" href="classMidiFile.html">MidiFile</a> {
<a name="l00148"></a><a class="code" href="classMidiFile.html#r0">00148</a>       <a class="code" href="midi_8h.html#a10">MidiTrackList</a> <a class="code" href="classMidiFile.html#r0">_tracks</a>;
<a name="l00149"></a><a class="code" href="classMidiFile.html#r1">00149</a>       <span class="keywordtype">int</span> <a class="code" href="classMidiFile.html#r1">timesig_z</a>, <a class="code" href="classMidiFile.html#r2">timesig_n</a>;
<a name="l00150"></a><a class="code" href="classMidiFile.html#r3">00150</a>       <span class="keywordtype">int</span> <a class="code" href="classMidiFile.html#r3">status</a>, <a class="code" href="classMidiFile.html#r4">lastchan</a>, <a class="code" href="classMidiFile.html#r5">click</a>;
<a name="l00151"></a><a class="code" href="classMidiFile.html#r6">00151</a>       <span class="keywordtype">int</span> <a class="code" href="classMidiFile.html#r6">sstatus</a>;
<a name="l00152"></a><a class="code" href="classMidiFile.html#r7">00152</a>       <span class="keywordtype">int</span> <a class="code" href="classMidiFile.html#r7">lastport</a>;
<a name="l00153"></a><a class="code" href="classMidiFile.html#r8">00153</a>       <span class="keywordtype">int</span> <a class="code" href="classMidiFile.html#r8">channelprefix</a>;
<a name="l00154"></a><a class="code" href="classMidiFile.html#r9">00154</a>       FILE* <a class="code" href="classMidiFile.html#r9">fp</a>;
<a name="l00155"></a><a class="code" href="classMidiFile.html#r10">00155</a>       <span class="keywordtype">int</span> <a class="code" href="classMidiFile.html#r10">fileDivision</a>;
<a name="l00156"></a><a class="code" href="classMidiFile.html#r11">00156</a>       <span class="keywordtype">int</span> <a class="code" href="classMidiFile.html#r11">curPos</a>;
00157 
<a name="l00158"></a><a class="code" href="classMidiFile.html#r12">00158</a>       <a class="code" href="midi_8h.html#a52">MidiType</a> <a class="code" href="classMidiFile.html#r12">_midiType</a>;
<a name="l00159"></a><a class="code" href="classMidiFile.html#r13">00159</a>       <span class="keywordtype">char</span> <a class="code" href="classMidiFile.html#r13">errorBuffer</a>[512];
00160 
00161       <span class="keywordtype">bool</span> <a class="code" href="classMidiFile.html#a2">read</a>(<span class="keywordtype">void</span>*, size_t);
00162       <span class="keywordtype">bool</span> <a class="code" href="classMidiFile.html#a3">write</a>(<span class="keyword">const</span> <span class="keywordtype">void</span>*, size_t);
<a name="l00163"></a><a class="code" href="classMidiFile.html#d2">00163</a>       <span class="keywordtype">void</span> <a class="code" href="classMidiFile.html#d2">put</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> c) { <a class="code" href="classMidiFile.html#a3">write</a>(&amp;c, 1); }
00164       <span class="keywordtype">bool</span> skip(size_t);
00165       <span class="keywordtype">int</span> <a class="code" href="classMidiFile.html#d4">readShort</a>();
00166       <span class="keywordtype">void</span> writeShort(<span class="keywordtype">int</span>);
00167       <span class="keywordtype">int</span> <a class="code" href="classMidiFile.html#d6">readLong</a>();
00168       <span class="keywordtype">void</span> writeLong(<span class="keywordtype">int</span>);
00169       <a class="code" href="structMidiEvent.html">MidiEvent</a>* readEvent(<a class="code" href="classMidiTrack.html">MidiTrack</a>*);
00170       <span class="keywordtype">bool</span> readTrack(<span class="keywordtype">bool</span>);
00171       <span class="keywordtype">bool</span> writeTrack(<span class="keyword">const</span> <a class="code" href="classMidiTrack.html">MidiTrack</a>*);
00172       <span class="keywordtype">int</span> <a class="code" href="classMidiFile.html#d11">getvl</a>();
00173       <span class="keywordtype">void</span> putvl(<span class="keywordtype">unsigned</span>);
00174       <span class="keywordtype">void</span> writeEvent(<span class="keywordtype">int</span> channel, <span class="keyword">const</span> <a class="code" href="structMidiEvent.html">MidiEvent</a>*);
00175       <span class="keywordtype">void</span> processTrack(<a class="code" href="classMidiTrack.html">MidiTrack</a>* track);
00176       <span class="keywordtype">bool</span> checkSysex(<a class="code" href="classMidiTrack.html">MidiTrack</a>*, <span class="keywordtype">unsigned</span>, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>*);
00177 
00178    <span class="keyword">public</span>:
00179       <a class="code" href="classMidiFile.html#a0">MidiFile</a>();
00180       <span class="keywordtype">void</span> setFp(FILE* fp);
00181       <span class="keywordtype">bool</span> <a class="code" href="classMidiFile.html#a2">read</a>();
00182       <span class="keywordtype">bool</span> <a class="code" href="classMidiFile.html#a3">write</a>();
<a name="l00183"></a><a class="code" href="classMidiFile.html#o0">00183</a>       <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classMidiFile.html#o0">error</a>;
<a name="l00184"></a><a class="code" href="classMidiFile.html#a4">00184</a>       <a class="code" href="midi_8h.html#a10">MidiTrackList</a>* <a class="code" href="classMidiFile.html#a4">tracks</a>()   { <span class="keywordflow">return</span> &amp;<a class="code" href="classMidiFile.html#r0">_tracks</a>; }
<a name="l00185"></a><a class="code" href="classMidiFile.html#a5">00185</a>       <a class="code" href="midi_8h.html#a52">MidiType</a> <a class="code" href="classMidiFile.html#a5">midiType</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classMidiFile.html#r12">_midiType</a>; }
00186 
<a name="l00187"></a><a class="code" href="classMidiFile.html#o4">00187</a>       QString <a class="code" href="classMidiFile.html#o1">title</a>, <a class="code" href="classMidiFile.html#o2">subTitle</a>, <a class="code" href="classMidiFile.html#o3">composer</a>, <a class="code" href="classMidiFile.html#o4">translator</a>, <a class="code" href="classMidiFile.html#o5">poet</a>;
00188       };
00189 
<a name="l00190"></a><a class="code" href="midi_8h.html#a0">00190</a> <span class="preprocessor">#define XCHG_SHORT(x) ((((x)&amp;0xFF)&lt;&lt;8) | (((x)&gt;&gt;8)&amp;0xFF))</span>
00191 <span class="preprocessor"></span><span class="preprocessor">#ifdef __i486__</span>
00192 <span class="preprocessor"></span><span class="preprocessor">#define XCHG_LONG(x) \</span>
00193 <span class="preprocessor">     ({ int __value; \</span>
00194 <span class="preprocessor">        asm ("bswap %1; movl %1,%0" : "=g" (__value) : "r" (x)); \</span>
00195 <span class="preprocessor">       __value; })</span>
00196 <span class="preprocessor"></span><span class="preprocessor">#else</span>
<a name="l00197"></a><a class="code" href="midi_8h.html#a1">00197</a> <span class="preprocessor"></span><span class="preprocessor">#define XCHG_LONG(x) ((((x)&amp;0xFF)&lt;&lt;24) | \</span>
00198 <span class="preprocessor">                      (((x)&amp;0xFF00)&lt;&lt;8) | \</span>
00199 <span class="preprocessor">                      (((x)&amp;0xFF0000)&gt;&gt;8) | \</span>
00200 <span class="preprocessor">                      (((x)&gt;&gt;24)&amp;0xFF))</span>
00201 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00202 <span class="preprocessor"></span>
<a name="l00203"></a><a class="code" href="midi_8h.html#a2">00203</a> <span class="preprocessor">#define BE_SHORT(x) XCHG_SHORT(x)</span>
<a name="l00204"></a><a class="code" href="midi_8h.html#a3">00204</a> <span class="preprocessor"></span><span class="preprocessor">#define BE_LONG(x)  XCHG_LONG(x)</span>
00205 <span class="preprocessor"></span>
00206 
00207 <span class="comment">//---------------------------------------------------------</span>
00208 <span class="comment">//   MidiInstrument</span>
00209 <span class="comment">//---------------------------------------------------------</span>
00210 
<a name="l00211"></a><a class="code" href="structMidiInstrument.html">00211</a> <span class="keyword">struct </span><a class="code" href="structMidiInstrument.html">MidiInstrument</a> {
<a name="l00212"></a><a class="code" href="structMidiInstrument.html#o0">00212</a>       <span class="keywordtype">int</span> <a class="code" href="structMidiInstrument.html#o0">type</a>;
<a name="l00213"></a><a class="code" href="structMidiInstrument.html#o3">00213</a>       <span class="keywordtype">int</span> <a class="code" href="structMidiInstrument.html#o1">hbank</a>, <a class="code" href="structMidiInstrument.html#o2">lbank</a>, <a class="code" href="structMidiInstrument.html#o3">patch</a>;
<a name="l00214"></a><a class="code" href="structMidiInstrument.html#o4">00214</a>       <span class="keywordtype">int</span> <a class="code" href="structMidiInstrument.html#o4">split</a>;
<a name="l00215"></a><a class="code" href="structMidiInstrument.html#o5">00215</a>       <span class="keywordtype">char</span>* <a class="code" href="structMidiInstrument.html#o5">name</a>;
00216       };
00217 
00218 <span class="preprocessor">#endif</span>
00219 <span class="preprocessor"></span>
</div></pre><hr size="1"><address style="align: right;"><small>Generated on Mon Jun 27 22:28:29 2005 for MuseScore by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
